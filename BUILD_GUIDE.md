# å¿«é€Ÿæ‰“åŒ…æŒ‡å—

## ğŸš€ ä¸€é”®æ‰“åŒ…ï¼ˆæ¨èï¼‰

ç›´æ¥åŒå‡»è¿è¡Œ `build.bat` æˆ– `build.ps1` æ–‡ä»¶ï¼Œå®ƒä¼šï¼š
1. è‡ªåŠ¨ä» `src/config.py` è¯»å–ç‰ˆæœ¬å·
2. ç”Ÿæˆç‰ˆæœ¬ä¿¡æ¯æ–‡ä»¶
3. æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶
4. æ‰§è¡ŒPyInstalleræ‰“åŒ…
5. éªŒè¯å¿…è¦èµ„æºï¼ˆassetsã€ffmpegã€è¯­è¨€æ–‡ä»¶ï¼‰
6. åˆ›å»ºè¿è¡Œæ—¶å¿…è¦çš„ç›®å½•

## ğŸ“‹ æ‰‹åŠ¨æ‰“åŒ…æ­¥éª¤

1. **æ›´æ–°ç‰ˆæœ¬å·**ï¼ˆå¯é€‰ï¼‰
   - ç¼–è¾‘ `src/config.py`
   - ä¿®æ”¹ `VERSION = "x.y.z"` è¡Œ

2. **ç”Ÿæˆç‰ˆæœ¬ä¿¡æ¯**
   ```cmd
   python generate_version_info.py
   ```

3. **æ‰§è¡Œæ‰“åŒ…**
   ```cmd
   pyinstaller main.spec --clean
   ```

4. **åˆ›å»ºè¿è¡Œæ—¶ç›®å½•**
   ```cmd
   mkdir dist\NeuroSongSpider\data\music
   mkdir dist\NeuroSongSpider\data\video
   mkdir dist\NeuroSongSpider\data\cache
   mkdir dist\NeuroSongSpider\data\custom_songs
   ```

## âœ… éªŒè¯æ‰“åŒ…ç»“æœ

æ‰“åŒ…å®Œæˆåï¼Œæ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š

1. **ç‰ˆæœ¬ä¿¡æ¯**ï¼šå³é”®ç‚¹å‡» `dist\NeuroSongSpider\NeuroSongSpider.exe`ï¼Œé€‰æ‹©"å±æ€§" â†’ "è¯¦ç»†ä¿¡æ¯"ï¼ŒæŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯
2. **èµ„æºæ–‡ä»¶**ï¼šç¡®è®¤ `dist\NeuroSongSpider\_internal\assets` ç›®å½•å­˜åœ¨ä¸”åŒ…å«æ‰€éœ€èµ„æº
3. **FFmpeg**ï¼šç¡®è®¤ `dist\NeuroSongSpider\_internal\ffmpeg\bin\ffmpeg.exe` å­˜åœ¨
4. **è¯­è¨€æ–‡ä»¶**ï¼šç¡®è®¤ `dist\NeuroSongSpider\_internal\data\i18n` ç›®å½•åŒ…å« `.properties` æ–‡ä»¶
5. **è¿è¡Œç›®å½•**ï¼šç¡®è®¤ `dist\NeuroSongSpider\data` åŠå…¶å­ç›®å½•å·²åˆ›å»º

## âš ï¸ æ³¨æ„äº‹é¡¹

- æ¯æ¬¡æ›´æ”¹ç‰ˆæœ¬å·åéœ€è¦é‡æ–°è¿è¡Œç”Ÿæˆè„šæœ¬
- ç¡®ä¿Pythonç¯å¢ƒå·²å®‰è£…PyInstaller
- é¦–æ¬¡ä½¿ç”¨å»ºè®®ä½¿ç”¨è‡ªåŠ¨æ‰“åŒ…è„šæœ¬
- æ‰“åŒ…åçš„ç¨‹åºéœ€è¦åœ¨ `NeuroSongSpider.exe` æ‰€åœ¨ç›®å½•è¿è¡Œ
- ç¨‹åºè¿è¡Œæ—¶ä¼šè‡ªåŠ¨åœ¨exeæ‰€åœ¨ç›®å½•åˆ›å»º `data` æ–‡ä»¶å¤¹å­˜æ”¾é…ç½®å’Œæ•°æ®

## ğŸ› å¸¸è§é—®é¢˜

### Q: æ‰“åŒ…åæç¤ºæ‰¾ä¸åˆ° FFmpeg
A: ç¡®ä¿ `ffmpeg/bin/ffmpeg.exe` å­˜åœ¨äºé¡¹ç›®æ ¹ç›®å½•ï¼Œæ‰“åŒ…è„šæœ¬ä¼šè‡ªåŠ¨å°†å…¶åŒ…å«è¿›å»

### Q: æ‰“åŒ…åè¯­è¨€è®¾ç½®ä¸¢å¤±
A: ç¨‹åºä¼šåœ¨é¦–æ¬¡è¿è¡Œæ—¶ä»æ‰“åŒ…çš„èµ„æºä¸­å¤åˆ¶è¯­è¨€æ–‡ä»¶åˆ° data ç›®å½•

### Q: æ‰“åŒ…åæ— æ³•æ’­æ”¾éŸ³é¢‘
A: æ£€æŸ¥ FFmpeg æ˜¯å¦æ­£ç¡®æ‰“åŒ…åˆ° `_internal\ffmpeg\bin` ç›®å½•ä¸­

## ğŸ“¦ æ‰“åŒ…åçš„ç›®å½•ç»“æ„

```
dist/
â””â”€â”€ NeuroSongSpider/
    â”œâ”€â”€ NeuroSongSpider.exe          # ä¸»ç¨‹åº
    â”œâ”€â”€ _internal/                    # PyInstallerå†…éƒ¨æ–‡ä»¶
    â”‚   â”œâ”€â”€ assets/                   # ç¨‹åºèµ„æº
    â”‚   â”œâ”€â”€ ffmpeg/                   # FFmpegå¯æ‰§è¡Œæ–‡ä»¶
    â”‚   â”œâ”€â”€ data/                     # åˆå§‹æ•°æ®æ–‡ä»¶
    â”‚   â””â”€â”€ ...                       # å…¶ä»–ä¾èµ–æ–‡ä»¶
    â””â”€â”€ data/                         # è¿è¡Œæ—¶æ•°æ®ç›®å½•ï¼ˆé¦–æ¬¡è¿è¡Œååˆ›å»ºï¼‰
        â”œâ”€â”€ config.json               # ç”¨æˆ·é…ç½®
        â”œâ”€â”€ music/                    # éŸ³ä¹æ–‡ä»¶
        â”œâ”€â”€ video/                    # è§†é¢‘æ•°æ®
        â”œâ”€â”€ cache/                    # ç¼“å­˜æ–‡ä»¶
        â””â”€â”€ custom_songs/             # è‡ªå®šä¹‰æ­Œå•
```
